# Práctica Analisis de Malware. Honeypot Cowrie

1. Creamos en DigitalOcean un droplet de Ubuntu. Nos conectamos por ssh a la IP de nuestra máquina creada: `104.248.199.134`
2. Update/upgrade desde la consola conectada a la máquina. Instalamos docker "sudo apt install docker.io"
3. Hacemos un docker pull cowrie/cowrie --> https://hub.docker.com/r/cowrie/cowrie (viene al final de la pagina) aqui ya tendremos la imagen
4. Si hacemos `docker images` podemos ver las imagenes q tenemos
5. Ahora tenemos que cambiar el puerto: sudo iptables -t nat -A PREROUTING -p tcp \ -j REDIRECT --dport 22 --to-port 2222
6. Copiar lo q hago en local en /pwd/cowrie_data se mete en  :    /cowrie/cowrie-git/var con nombre "cowrie1"       --> `docker run --name cowrie1 -d -p 2222:2222 -v $(pwd)/cowrie_data:/cowrie/cowrie-git/var cowrie/cowrie`
7. Podemos ver con `docker ps` el contenedor q acabamos de crear. Podemos meternos al contenedor con `docker exec -it cowrie1 bash` 'execute' y -it q significa 'interactive'
8. Si creamos algo en el ubuntu dentro de /cowrie_data , como hemos dicho se mete dentro del contenedor en /cowrie/cowrie-git/var (tenemos ya un 'prueba.txt' ahí dentro para comprobarlo)

## Enlace de un ejemplo: https://medium.com/@galolbardes/learn-how-to-deploy-a-honeypot-and-visualise-its-data-step-by-step-ea3cd3f25822
